<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <label for="id">아이디 : </label>
    <input type="text" id="id" onkeyup="validId()">
    <span id="id-msg"></span>
    
    <script>
        function validId() {
            const inputId = document.getElementById("id").value;
            const idMsg = document.getElementById("id-msg");
            
            //  영어 소문자, 숫자만 사용가능 / 6자리 이상, 12자리 이하 
            const idPattern = /^[a-z0-9]{6,12}$/; 

            if(idPattern.test(inputId)) {
                idMsg.innerHTML = "사용 가능합니다."
                idMsg.style.color = "green";
            }
            else {
                idMsg.innerHTML = "사용 불가"
                idMsg.style.color = "red";
            }

        }
    </script>


    <br>
    <br>

    <label for="password">비밀번호 : </label>
    <input type="password" id="password" onkeyup="validPw()">
    <span id="password-msg"></span>

    <br>
    <br>

    <label for="password-check">비밀번호 확인 : </label>
    <input type="password" id="password-check" onkeyup="validPw()"> 
    <span id="password-check-msg"></span>
    
    <!-- 
        소문자 또는 대문자 최소 1개 이상
        특수문자 최소 1개 이상 
        6자리 이상 20자리 이하
    -->
    <script>
        function validPw() {
            const inputPw = document.getElementById("password").value;
            const passwordMsg = document.getElementById("password-msg");

            const inputPwCheck = document.getElementById("password-check").value;
            const passwordCheckMsg = document.getElementById("password-check-msg");


            const pwPattern = /^(?=.*[a-zA-Z])(?=.*[!@#$%^*+=-])[a-zA-z0-9!@#$%^*+=-]{6,20}$/; 
            // 1. ^ : 문자의 시작
            // 2. ?= : 전방탐색
            // 3. .* : 아무 문자 1개가 있거나 없음 (0번이상)
            // 4. [a-zA-z] : 알파벳 소문자 또는 대문자 
            // (?=.*[조건]) : 앞에서부터 최소 1개이상 있어야 하는 코드
            //  --> (?=.*[a-zA-Z]) 앞에서부터 탐색 -> 아무 문자 1개 있어도 되고 없어두 댐 -> [조건] 있는지 확인
            
            if(pwPattern.test(inputPw)) {
                passwordMsg.innerHTML = "사용 가능합니다."
                passwordMsg.style.color = "green";
            }
            else {
                passwordMsg.innerHTML = "사용 불가능한 패스워드입니다."
                passwordMsg.style.color = "red";
            }

            // 비밀번호 확인
            if(inputPw === inputPwCheck) {
                passwordCheckMsg.innerHTML = "비밀번호가 동일합니다."
                passwordCheckMsg.style.color = "green";
            }
            else {
                passwordCheckMsg.innerHTML = "비밀번호가 다릅니다."
                passwordCheckMsg.style.color = "red";
            }

        }
    </script>
    
    
    


</body>
</html>